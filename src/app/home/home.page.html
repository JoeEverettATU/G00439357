<ion-header>
  <ion-toolbar>
    <ion-title>
      G00439357 Recipe Finder
    </ion-title>

    <ion-buttons slot="end">
      <!-- Favourites icon button -->
      <ion-button aria-label="Favourites" (click)="goToFavourites()">
  â¤ï¸
</ion-button>


      <!-- Settings icon button -->
      <ion-button aria-label="Settings" (click)="goToSettings()">
  âš™ï¸
</ion-button>

    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">

  <!-- Search input -->
  <ion-item>
    <ion-label position="stacked">Ingredients</ion-label>
    <ion-input
      [(ngModel)]="ingredientsInput"
      placeholder="e.g. chicken, rice, tomato">
    </ion-input>
  </ion-item>

  <!-- Search button -->
  <ion-button expand="block" class="ion-margin-top" (click)="searchRecipes()">
    Search
  </ion-button>

  <!--Innovation 1: Loading spinner.
     Displays while isLoading is true (while we wait for Spoonacular response).
     Helps users understand the app is working. -->
<div class="ion-text-center ion-margin-top" *ngIf="isLoading">
  <ion-spinner></ion-spinner>
  <p>Loading recipes...</p>
</div>

<!-- Innovation 1: "No results" feedback.
     Shows only when:
     - not loading,
     - user typed something,
     - and the API returned zero recipes. -->
<p *ngIf="!isLoading && recipes.length === 0 && ingredientsInput.trim()">
  No recipes found for "{{ ingredientsInput }}".
</p>

<!-- Results list should only show when NOT loading -->
<ion-list *ngIf="!isLoading && recipes.length > 0" class="ion-margin-top">
  <!-- existing list markup -->
</ion-list>



  <!-- Results list -->
  <ion-list *ngIf="recipes.length > 0" class="ion-margin-top">
    <ion-item *ngFor="let recipe of recipes">
      <ion-thumbnail slot="start">
        <img [src]="recipe.image" alt="{{ recipe.title }}" />
      </ion-thumbnail>

            <ion-label>
        {{ recipe.title }}
      </ion-label>

      <!-- Innovation 2: Favourite quick-toggle button in search results.
     If the recipe is already a favourite, show a filled heart.
     If not, show an outline heart.
     Clicking toggles favourite status instantly. -->
      <ion-button
        slot="end"
        aria-label="Toggle favourite"
        (click)="toggleFavourite(recipe)">
        <span *ngIf="isFavourite(recipe.id)" aria-hidden="true">â¤ï¸</span>
        <span *ngIf="!isFavourite(recipe.id)" aria-hidden="true">ğŸ¤</span>
      </ion-button>

      <ion-button slot="end" fill="outline" (click)="openDetails(recipe.id)">
        Details
      </ion-button>

    </ion-item>
  </ion-list>

</ion-content>
